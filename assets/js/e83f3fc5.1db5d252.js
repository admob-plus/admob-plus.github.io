"use strict";(self.webpackChunkadmob_plus_website=self.webpackChunkadmob_plus_website||[]).push([[9744],{8570:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return m}});var n=a(79);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var d=n.createContext({}),s=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=s(e.components);return n.createElement(d.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},v=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,d=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=s(a),v=i,m=c["".concat(d,".").concat(v)]||c[v]||p[v]||r;return a?n.createElement(m,o(o({ref:t},u),{},{components:a})):n.createElement(m,o({ref:t},u))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=v;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l[c]="string"==typeof e?e:i,o[1]=l;for(var s=2;s<r;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}v.displayName="MDXCreateElement"},9868:function(e,t,a){a.d(t,{Z:function(){return o}});var n=a(79),i=a(9841),r={tabItem:"tabItem_kAMp"};function o(e){var t=e.children,a=e.hidden,o=e.className;return n.createElement("div",{role:"tabpanel",className:(0,i.Z)(r.tabItem,o),hidden:a},t)}},4701:function(e,t,a){a.d(t,{Z:function(){return y}});var n=a(2203),i=a(79),r=a(9841),o=a(8253),l=a(7911),d=a(2894),s=a(752),u=a(5480);function c(e){return function(e){var t,a;return null!=(t=null==(a=i.Children.map(e,(function(e){if(!e||(0,i.isValidElement)(e)&&(t=e.props)&&"object"==typeof t&&"value"in t)return e;var t;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:a.filter(Boolean))?t:[]}(e).map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes,default:t.default}}))}function p(e){var t=e.values,a=e.children;return(0,i.useMemo)((function(){var e=null!=t?t:c(a);return function(e){var t=(0,s.l)(e,(function(e,t){return e.value===t.value}));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,a])}function v(e){var t=e.value;return e.tabValues.some((function(e){return e.value===t}))}function m(e){var t=e.queryString,a=void 0!==t&&t,n=e.groupId,r=(0,l.k6)(),o=function(e){var t=e.queryString,a=void 0!==t&&t,n=e.groupId;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:a,groupId:n});return[(0,d._X)(o),(0,i.useCallback)((function(e){if(o){var t=new URLSearchParams(r.location.search);t.set(o,e),r.replace(Object.assign({},r.location,{search:t.toString()}))}}),[o,r])]}function f(e){var t,a,n,r,o=e.defaultValue,l=e.queryString,d=void 0!==l&&l,s=e.groupId,c=p(e),f=(0,i.useState)((function(){return function(e){var t,a=e.defaultValue,n=e.tabValues;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!v({value:a,tabValues:n}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+a+'" but none of its children has the corresponding value. Available values are: '+n.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return a}var i=null!=(t=n.find((function(e){return e.default})))?t:n[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:o,tabValues:c})})),b=f[0],h=f[1],g=m({queryString:d,groupId:s}),w=g[0],k=g[1],y=(t=function(e){return e?"docusaurus.tab."+e:null}({groupId:s}.groupId),a=(0,u.Nk)(t),n=a[0],r=a[1],[n,(0,i.useCallback)((function(e){t&&r.set(e)}),[t,r])]),N=y[0],A=y[1],P=function(){var e=null!=w?w:N;return v({value:e,tabValues:c})?e:null}();return(0,i.useLayoutEffect)((function(){P&&h(P)}),[P]),{selectedValue:b,selectValue:(0,i.useCallback)((function(e){if(!v({value:e,tabValues:c}))throw new Error("Can't select invalid tab value="+e);h(e),k(e),A(e)}),[k,A,c]),tabValues:c}}var b=a(6943),h={tabList:"tabList_jOjO",tabItem:"tabItem_O8Kg"};function g(e){var t=e.className,a=e.block,l=e.selectedValue,d=e.selectValue,s=e.tabValues,u=[],c=(0,o.o5)().blockElementScrollPositionUntilNextRender,p=function(e){var t=e.currentTarget,a=u.indexOf(t),n=s[a].value;n!==l&&(c(t),d(n))},v=function(e){var t,a=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":var n,i=u.indexOf(e.currentTarget)+1;a=null!=(n=u[i])?n:u[0];break;case"ArrowLeft":var r,o=u.indexOf(e.currentTarget)-1;a=null!=(r=u[o])?r:u[u.length-1]}null==(t=a)||t.focus()};return i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":a},t)},s.map((function(e){var t=e.value,a=e.label,o=e.attributes;return i.createElement("li",(0,n.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:function(e){return u.push(e)},onKeyDown:v,onClick:p},o,{className:(0,r.Z)("tabs__item",h.tabItem,null==o?void 0:o.className,{"tabs__item--active":l===t})}),null!=a?a:t)})))}function w(e){var t=e.lazy,a=e.children,n=e.selectedValue,r=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){var o=r.find((function(e){return e.props.value===n}));return o?(0,i.cloneElement)(o,{className:"margin-top--md"}):null}return i.createElement("div",{className:"margin-top--md"},r.map((function(e,t){return(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==n})})))}function k(e){var t=f(e);return i.createElement("div",{className:(0,r.Z)("tabs-container",h.tabList)},i.createElement(g,(0,n.Z)({},e,t)),i.createElement(w,(0,n.Z)({},e,t)))}function y(e){var t=(0,b.Z)();return i.createElement(k,(0,n.Z)({key:String(t)},e))}},5265:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return u},default:function(){return b},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return v}});var n=a(2203),i=a(915),r=(a(79),a(8570)),o=a(4701),l=a(9868),d=["components"],s={title:"Native Ad",sidebar_label:"Native"},u=void 0,c={unversionedId:"cordova/ads/native",id:"cordova/ads/native",title:"Native Ad",description:"This feature is implemented differently from the original AdMob Native Ad designed for, as there is no official way to using it with webview.",source:"@site/docs/cordova/ads/native.mdx",sourceDirName:"cordova/ads",slug:"/cordova/ads/native",permalink:"/docs/cordova/ads/native",draft:!1,editUrl:"https://github.com/admob-plus/admob-plus/edit/master/website/docs/cordova/ads/native.mdx",tags:[],version:"current",frontMatter:{title:"Native Ad",sidebar_label:"Native"},sidebar:"docs",previous:{title:"Interstitial",permalink:"/docs/cordova/ads/interstitial"},next:{title:"Rewarded",permalink:"/docs/cordova/ads/rewarded"}},p={},v=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Attach to HTML element",id:"attach-to-html-element",level:2},{value:"Customize Views",id:"customize-views",level:2},{value:"Multiple Views",id:"multiple-views",level:3},{value:"Events",id:"events",level:2},{value:"<code>admob.ad.load</code>",id:"admobadload",level:3},{value:"<code>admob.ad.loadfail</code>",id:"admobadloadfail",level:3},{value:"<code>admob.ad.show</code>",id:"admobadshow",level:3},{value:"<code>admob.ad.showfail</code>",id:"admobadshowfail",level:3},{value:"<code>admob.ad.dismiss</code>",id:"admobaddismiss",level:3},{value:"<code>admob.ad.impression</code>",id:"admobadimpression",level:3},{value:"References",id:"references",level:2}],m={toc:v},f="wrapper";function b(e){var t=e.components,a=(0,i.Z)(e,d);return(0,r.kt)(f,(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"This feature is implemented differently from the original AdMob Native Ad designed for, as there is no official way to using it with webview."),(0,r.kt)("p",{parentName:"admonition"},"You are warned to the potential policy violations for using this feature.")),(0,r.kt)("p",null,"Native ads are ad assets that are presented to users via UI components that are native to the platform."),(0,r.kt)("p",null,"In addtion to installing ",(0,r.kt)("inlineCode",{parentName:"p"},"admob-plus-cordova"),", you will need to install ",(0,r.kt)("inlineCode",{parentName:"p"},"admob-plus-cordova-native")," for displaying native ads."),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh-session"},"cordova plugin add admob-plus-cordova-native --save\n")),(0,r.kt)("p",null,"Or use a local version with ",(0,r.kt)("a",{parentName:"p",href:"#customize-views"},"customized views"),","),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"document.addEventListener('deviceready', async () => {\n  const ad = new admob.NativeAd({\n    adUnitId: 'ca-app-pub-xxx/yyy',\n  })\n\n  ad.on('load', (evt) => {\n    // evt.ad\n  })\n\n  await ad.load()\n  await ad.show({\n    x: 0,\n    y: 50,\n    width: window.screen.width,\n    height: 300,\n  })\n\n  setTimeout(() => {\n    // change ad size and poistion\n    ad.show({\n      x: 0,\n      y: 150,\n      width: window.screen.width,\n      height: 350,\n    })\n  }, 5000)\n\n  setTimeout(() => {\n    ad.hide()\n  }, 10000)\n})\n\ndocument.addEventListener('admob.ad.load', async (evt) => {\n  if (evt.ad instanceof admob.NativeAd) {\n    // handle event here\n  }\n})\n")),(0,r.kt)("h2",{id:"attach-to-html-element"},"Attach to HTML element"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"ad.showWith(document.getElementById('native-ad'))\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"native-ad")," is the HTML element for the ad view should attach to, which will update the size and position of ad view as the DOM element."),(0,r.kt)("p",null,"Note that this is an native ad view overlay on top of the webview, so scrolling will see some delay.\nIt is the limitation for mixing native view and webview for hybrid app."),(0,r.kt)("h2",{id:"customize-views"},"Customize Views"),(0,r.kt)("p",null,"You will need to create a plugin to provide the native ad view implementation."),(0,r.kt)("p",null,"It is recommended to fork ",(0,r.kt)("inlineCode",{parentName:"p"},"admob-plus-cordova-native")," and starting there."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh-session"},"git clone https://github.com/admob-plus/admob-plus.git\ncordova plugin rm admob-plus-cordova-native\ncordova plugin add ./admob-plus/packages/cordova-native --link --save\ncd admob-plus/packages/cordova-native\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Review the ",(0,r.kt)("a",{parentName:"p",href:"https://support.google.com/admob/answer/6329638"},"Native ads policies and guidelines")," for guidance on how to render your native ads.")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"default")," view is registered in"),(0,r.kt)(o.Z,{defaultValue:"android",values:[{label:"Android",value:"android"},{label:"iOS",value:"ios"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"android",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:"{6} title=src/android/Plugin.java","{6}":!0,title:"src/android/Plugin.java"},"package admob.plus.cordova.nativead;\n\npublic class Plugin extends CordovaPlugin {\n    protected void pluginInitialize() {\n        AdMob.registerNativeAdViewProviders(new HashMap<String, Native.ViewProvider>() {{\n            put(AdMob.NATIVE_VIEW_DEFAULT, new AdViewProvider(cordova));\n        }});\n    }\n}\n")),(0,r.kt)("p",null,"By changing ",(0,r.kt)("inlineCode",{parentName:"p"},"src/android/AdViewProvider.java")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"src/android/res/layout/ad_unified.xml"),",\nyou could customize the look and feel of the native ad view.")),(0,r.kt)(l.Z,{value:"ios",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift",metastring:"{3} title=src/ios/AdMobNativePlugin.swift","{3}":!0,title:"src/ios/AdMobNativePlugin.swift"},'class AdMobNativePlugin: CDVPlugin {\n    override func pluginInitialize() {\n        AMBPlugin.registerNativeAdViewProviders(["default": AMNAdViewProvider()])\n    }\n}\n')),(0,r.kt)("p",null,"By changing ",(0,r.kt)("inlineCode",{parentName:"p"},"src/ios/AMNAdViewProvider.swift")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"src/ios/AMNAdView.xib"),",\nyou could customize the look and feel of the native ad view."))),(0,r.kt)("h3",{id:"multiple-views"},"Multiple Views"),(0,r.kt)("p",null,"If your native ads need more than one views, you could register them using ",(0,r.kt)("inlineCode",{parentName:"p"},"registerNativeAdViewProviders()"),"."),(0,r.kt)(o.Z,{defaultValue:"android",values:[{label:"Android",value:"android"},{label:"iOS",value:"ios"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"android",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:"{7-8} title=src/android/Plugin.java","{7-8}":!0,title:"src/android/Plugin.java"},'package admob.plus.cordova.nativead;\n\npublic class Plugin extends CordovaPlugin {\n    protected void pluginInitialize() {\n        AdMob.registerNativeAdViewProviders(new HashMap<String, Native.ViewProvider>() {{\n            put(AdMob.NATIVE_VIEW_DEFAULT, new AdViewProvider(cordova));\n            // register extra views\n            put("myview", new MyAdViewProvider(cordova));\n        }});\n    }\n}\n'))),(0,r.kt)(l.Z,{value:"ios",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-swift",metastring:"{5-6} title=src/ios/AdMobNativePlugin.swift","{5-6}":!0,title:"src/ios/AdMobNativePlugin.swift"},'class AdMobNativePlugin: CDVPlugin {\n    override func pluginInitialize() {\n        AMBPlugin.registerNativeAdViewProviders([\n          "default": AMNAdViewProvider(),\n          // register extra views\n          "myview": MyAdViewProvider(),\n        ])\n    }\n}\n')))),(0,r.kt)("p",null,"Then specify it when createing the ad,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:"{3}","{3}":!0},"const ad = new admob.NativeAd({\n  adUnitId: 'ca-app-pub-xxx/yyy',\n  view: 'myview',\n})\n")),(0,r.kt)("p",null,"Remeber to update ",(0,r.kt)("inlineCode",{parentName:"p"},"plugin.xml")," for the newly added files,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:"{3,7} title=plugin.xml","{3,7}":!0,title:"plugin.xml"},'<plugin id="admob-plus-cordova-native">\n  <platform name="android">\n    <source-file src="src/android/MyAdViewProvider.java" target-dir="src/admob/plus/cordova/nativead" />\n  </platform>\n\n  <platform name="ios">\n    <source-file src="src/ios/MyAdViewProvider.swift" />\n  </platform>\n</plugin>\n')),(0,r.kt)("h2",{id:"events"},"Events"),(0,r.kt)("h3",{id:"admobadload"},(0,r.kt)("inlineCode",{parentName:"h3"},"admob.ad.load")),(0,r.kt)("h3",{id:"admobadloadfail"},(0,r.kt)("inlineCode",{parentName:"h3"},"admob.ad.loadfail")),(0,r.kt)("h3",{id:"admobadshow"},(0,r.kt)("inlineCode",{parentName:"h3"},"admob.ad.show")),(0,r.kt)("h3",{id:"admobadshowfail"},(0,r.kt)("inlineCode",{parentName:"h3"},"admob.ad.showfail")),(0,r.kt)("h3",{id:"admobaddismiss"},(0,r.kt)("inlineCode",{parentName:"h3"},"admob.ad.dismiss")),(0,r.kt)("h3",{id:"admobadimpression"},(0,r.kt)("inlineCode",{parentName:"h3"},"admob.ad.impression")),(0,r.kt)("h2",{id:"references"},"References"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://developers.google.com/admob/android/native/start"},"Native Ads - Mobile Ads SDK (Android)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://developers.google.com/admob/ios/native/start"},"Native Ads - Mobile Ads SDK (iOS)"))))}b.isMDXComponent=!0}}]);