"use strict";(self.webpackChunkadmob_plus_website=self.webpackChunkadmob_plus_website||[]).push([[6932],{3919:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>l});var i=n(5250),s=n(4550);const r={title:"Frequently Asked Questions",sidebar_label:"FAQ"},d=void 0,t={id:"cordova/faq",title:"Frequently Asked Questions",description:"Refer to Troubleshooting FAQ for other general questions.",source:"@site/docs/cordova/faq.md",sourceDirName:"cordova",slug:"/cordova/faq",permalink:"/docs/cordova/faq",draft:!1,unlisted:!1,editUrl:"https://github.com/admob-plus/admob-plus/edit/master/website/docs/cordova/faq.md",tags:[],version:"current",frontMatter:{title:"Frequently Asked Questions",sidebar_label:"FAQ"},sidebar:"docs",previous:{title:"WebViewAdOptions",permalink:"/docs/cordova/api/interfaces/WebViewAdOptions"},next:{title:"Upgrade",permalink:"/docs/cordova/upgrade"}},a={},l=[{value:"General",id:"general",level:2},{value:"What does <code>{isTrusted: false}</code> event message means?",id:"what-does-istrusted-false-event-message-means",level:3},{value:"Why does the &quot;close button&quot; on my interstitial not work?",id:"why-does-the-close-button-on-my-interstitial-not-work",level:3},{value:"Why do old browsers / devices throw an &quot;Uncaught SyntaxError&quot;?",id:"why-do-old-browsers--devices-throw-an-uncaught-syntaxerror",level:3},{value:"How to use different <code>adUitId</code> for Android and iOS?",id:"how-to-use-different-aduitid-for-android-and-ios",level:3},{value:"Android",id:"android",level:2},{value:"How to use with <code>cordova-android-play-services-gradle-release</code>?",id:"how-to-use-with-cordova-android-play-services-gradle-release",level:3},{value:"How to handle <code>&gt; Task :app:checkDebugAarMetadata FAILED</code>?",id:"how-to-handle--task-appcheckdebugaarmetadata-failed",level:3},{value:"iOS",id:"ios",level:2},{value:"Why <code>.ipa</code> file is increased so much after including the plugin?",id:"why-ipa-file-is-increased-so-much-after-including-the-plugin",level:3},{value:"How to fix <code>&#39;sendSubviewToBack&#39; has been renamed to &#39;sendSubview(toBack:)&#39;</code> error?",id:"how-to-fix-sendsubviewtoback-has-been-renamed-to-sendsubviewtoback-error",level:3},{value:"Do I need to enable SKAdNetwork manually?",id:"do-i-need-to-enable-skadnetwork-manually",level:3},{value:"How to fix <code>&#39;GoogleMobileAds/GoogleMobileAds.h&#39; file not found</code> error?",id:"how-to-fix-googlemobileadsgooglemobileadsh-file-not-found-error",level:3},{value:"Should I use Apple\u2019s ATT prompt?",id:"should-i-use-apples-att-prompt",level:3},{value:"How to fix error <code>Origin null is not allowed by Access-Control-Allow-Origin</code>?",id:"how-to-fix-error-origin-null-is-not-allowed-by-access-control-allow-origin",level:3}];function c(e){const o={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.admonition,{type:"info",children:(0,i.jsxs)(o.p,{children:["Refer to ",(0,i.jsx)(o.a,{href:"../troubleshooting",children:"Troubleshooting FAQ"})," for other general questions."]})}),"\n",(0,i.jsx)(o.h2,{id:"general",children:"General"}),"\n",(0,i.jsxs)(o.h3,{id:"what-does-istrusted-false-event-message-means",children:["What does ",(0,i.jsx)(o.code,{children:"{isTrusted: false}"})," event message means?"]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.code,{children:"Event.isTrusted"})," is ",(0,i.jsx)(o.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Event/isTrusted",children:"a part of the Web API"}),", ",(0,i.jsx)(o.code,{children:"false"})," indicates that the event was created or modified by a script or dispatched via ",(0,i.jsx)(o.code,{children:"dispatchEvent()"}),"."]}),"\n",(0,i.jsx)(o.h3,{id:"why-does-the-close-button-on-my-interstitial-not-work",children:'Why does the "close button" on my interstitial not work?'}),"\n",(0,i.jsx)(o.p,{children:'Sometimes you can\'t close an interstitial by using the "close button" and this can be caused by several both serverside and clientside issues.'}),"\n",(0,i.jsxs)(o.p,{children:["One of the most common reasons for this unwanted behaviour is a setting in your ",(0,i.jsx)(o.code,{children:"config.xml"})," ",(0,i.jsx)(o.a,{href:"https://cordova.apache.org/docs/en/10.x/config_ref/index.html",children:"preferences file"}),"."]}),"\n",(0,i.jsxs)(o.p,{children:["Be sure to have the ",(0,i.jsx)(o.code,{children:"KeepRunning"})," preference set to ",(0,i.jsx)(o.code,{children:"true"})," (default), becausing turning this off (",(0,i.jsx)(o.code,{children:"false"}),") can freeze an interstitial when viewed."]}),"\n",(0,i.jsx)(o.p,{children:'The reason for this is that those type of ads are layered "above" the main app and can\'t be "reached" (interacted with) when the app stops running after leaving it\'s view.'}),"\n",(0,i.jsxs)(o.p,{children:["Setting ",(0,i.jsx)(o.code,{children:"KeepRunning"})," to ",(0,i.jsx)(o.code,{children:"true"})," resolves the issue, but can have some negative inpact on battery usage and ofcourse all the existing (java-)scripts keep running in the background when the app is tombstoned."]}),"\n",(0,i.jsx)(o.h3,{id:"why-do-old-browsers--devices-throw-an-uncaught-syntaxerror",children:'Why do old browsers / devices throw an "Uncaught SyntaxError"?'}),"\n",(0,i.jsxs)(o.p,{children:["The examples for this plug-in are using a syntax introduced in ES6 (",(0,i.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/ECMAScript",children:"ECMAScript version 6"}),")."]}),"\n",(0,i.jsxs)(o.p,{children:["Some of those ES6 features are ",(0,i.jsx)(o.code,{children:"async"}),", ",(0,i.jsx)(o.code,{children:"promise"})," and ",(0,i.jsx)(o.code,{children:"await"})," which makes development a lot easier and result in a more stable product. Almost every browser or device since 2015 ",(0,i.jsx)(o.a,{href:"https://caniuse.com/async-functions",children:"does support ES6"}),", but older versions don't."]}),"\n",(0,i.jsxs)(o.p,{children:["So if you are targetting devices like ",(0,i.jsx)(o.code,{children:"Android 4.x"})," or even ",(0,i.jsx)(o.code,{children:"Android 5.x"})," a syntax error in the script can occur and ",(0,i.jsx)(o.a,{href:"https://stackoverflow.com/questions/40492609",children:"throw messages"})," in the console like ",(0,i.jsx)(o.code,{children:"Uncaught SyntaxError: Unexpected token function (async)"}),"."]}),"\n",(0,i.jsx)(o.p,{children:"If you need to support those older devices, you can savely rewrite the example code to basic Javascript, without any of those asynchronous functions."}),"\n",(0,i.jsxs)(o.h3,{id:"how-to-use-different-aduitid-for-android-and-ios",children:["How to use different ",(0,i.jsx)(o.code,{children:"adUitId"})," for Android and iOS?"]}),"\n",(0,i.jsxs)(o.p,{children:["It is best to replace ",(0,i.jsx)(o.code,{children:"adUitId"})," during build time for different platforms, to avoid putting both ",(0,i.jsx)(o.code,{children:"adUitId"}),"s in the final app binary."]}),"\n",(0,i.jsxs)(o.p,{children:["However, if that is not a concern, ",(0,i.jsx)(o.code,{children:"cordova.platformId"})," can be used to determine which platform is running on."]}),"\n",(0,i.jsxs)(o.p,{children:["Here is a simple example function to get ",(0,i.jsx)(o.code,{children:"adUnitId"})," depends on the current platform,"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-js",children:"function getAdUidId(android, ios) {\n  switch (cordova.platformId) {\n    case 'android':\n      return android\n    case 'ios':\n    default:\n      return ios\n  }\n}\n"})}),"\n",(0,i.jsx)(o.h2,{id:"android",children:"Android"}),"\n",(0,i.jsxs)(o.h3,{id:"how-to-use-with-cordova-android-play-services-gradle-release",children:["How to use with ",(0,i.jsx)(o.code,{children:"cordova-android-play-services-gradle-release"}),"?"]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.code,{children:"cordova-android-play-services-gradle-release"})," uses ",(0,i.jsx)(o.a,{href:"https://github.com/dpa99c/cordova-android-play-services-gradle-release/blob/master/plugin.xml#L21",children:"an old version of SDK"})," by default."]}),"\n",(0,i.jsxs)(o.p,{children:["Edit ",(0,i.jsx)(o.code,{children:"pacakge.json"})," to fix:"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-json",children:'{\n  "cordova": {\n    "plugins": {\n      "cordova-android-play-services-gradle-release": {\n        "PLAY-SERVICES-ADS": "19.8.0"\n      }\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(o.h3,{id:"how-to-handle--task-appcheckdebugaarmetadata-failed",children:["How to handle ",(0,i.jsx)(o.code,{children:"> Task :app:checkDebugAarMetadata FAILED"}),"?"]}),"\n",(0,i.jsx)(o.p,{children:"If the error looks like the following,"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{children:"* What went wrong:\nExecution failed for task ':app:checkDebugAarMetadata'.\n> A failure occurred while executing com.android.build.gradle.internal.tasks.CheckAarMetadataWorkAction\n   > The minCompileSdk (31) specified in a\n     dependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\n     is greater than this module's compileSdkVersion (android-30).\n     Dependency: androidx.work:work-runtime:2.7.0.\n"})}),"\n",(0,i.jsxs)(o.p,{children:["Try set the ",(0,i.jsx)(o.code,{children:"android-targetSdkVersion"})," to ",(0,i.jsx)(o.code,{children:"32"})," in ",(0,i.jsx)(o.code,{children:"config.xml"}),", e.g."]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-xml",children:'<platform name="android">\n    <preference name="android-minSdkVersion" value="32" />\n    ...\n</platform>\n'})}),"\n",(0,i.jsx)(o.h2,{id:"ios",children:"iOS"}),"\n",(0,i.jsxs)(o.h3,{id:"why-ipa-file-is-increased-so-much-after-including-the-plugin",children:["Why ",(0,i.jsx)(o.code,{children:".ipa"})," file is increased so much after including the plugin?"]}),"\n",(0,i.jsxs)(o.p,{children:["Google AdMob requires ",(0,i.jsx)(o.a,{href:"https://developers.google.com/admob/ios/download",children:"Google Mobile Ads SDK"})," for iOS, which will contribute ~60MB to the app size."]}),"\n",(0,i.jsxs)(o.h3,{id:"how-to-fix-sendsubviewtoback-has-been-renamed-to-sendsubviewtoback-error",children:["How to fix ",(0,i.jsx)(o.code,{children:"'sendSubviewToBack' has been renamed to 'sendSubview(toBack:)'"})," error?"]}),"\n",(0,i.jsx)(o.p,{children:"This is probally caused by using outdated version of Swift to build the project."}),"\n",(0,i.jsxs)(o.p,{children:["Please ensusre ",(0,i.jsx)(o.code,{children:'<preference name="SwiftVersion" value="5.3" />'})," is added to the section ",(0,i.jsx)(o.code,{children:'<platform name="ios">'})," in ",(0,i.jsx)(o.code,{children:"config.xml"}),", then clean build the project."]}),"\n",(0,i.jsxs)(o.h3,{id:"do-i-need-to-enable-skadnetwork-manually",children:["Do I need to enable ",(0,i.jsx)(o.a,{href:"https://developers.google.com/admob/ios/ios14#skadnetwork",children:"SKAdNetwork"})," manually?"]}),"\n",(0,i.jsxs)(o.p,{children:["No, ",(0,i.jsx)(o.a,{href:"https://github.com/admob-plus/admob-plus/blob/master/packages/cordova/plugin.xml#L87",children:(0,i.jsx)(o.code,{children:"SKAdNetworkItems"})})," will be set by the plugin, which located in ",(0,i.jsx)(o.code,{children:"platforms/ios/<PROJECT>/<PROJECT>-Info.plist"}),"."]}),"\n",(0,i.jsxs)(o.h3,{id:"how-to-fix-googlemobileadsgooglemobileadsh-file-not-found-error",children:["How to fix ",(0,i.jsx)(o.code,{children:"'GoogleMobileAds/GoogleMobileAds.h' file not found"})," error?"]}),"\n",(0,i.jsx)(o.p,{children:"This is likely caused by CocoaPods is not installing the dependencies correctly."}),"\n",(0,i.jsxs)(o.p,{children:["Run ",(0,i.jsx)(o.code,{children:"pod repo update"})," and ",(0,i.jsx)(o.code,{children:"cd platforms/ios && pod install --repo-update"})," to ensure latest SDK is ready."]}),"\n",(0,i.jsx)(o.p,{children:"A clean build / remove then re-add the plugin may be necessary."}),"\n",(0,i.jsx)(o.h3,{id:"should-i-use-apples-att-prompt",children:"Should I use Apple\u2019s ATT prompt?"}),"\n",(0,i.jsxs)(o.p,{children:["As part of iOS 14, you may choose to employ the new ",(0,i.jsx)(o.a,{href:"https://developer.apple.com/documentation/apptrackingtransparency",children:"AppTrackingTransparency (ATT) framework"})," by calling ",(0,i.jsx)(o.code,{children:"admob.requestTrackingAuthorization()"}),"."]}),"\n",(0,i.jsxs)(o.p,{children:["If your app is not using ATT, you need to state that during submission or your app ",(0,i.jsx)(o.a,{href:"https://github.com/admob-plus/admob-plus/issues/241",children:"may be rejected"}),"."]}),"\n",(0,i.jsxs)(o.blockquote,{children:["\n",(0,i.jsx)(o.p,{children:"If your app integrates AppTrackingTransparency, please indicate where in your app we can find the AppTrackingTransparency permission request."}),"\n",(0,i.jsx)(o.p,{children:"If your app does not integrate AppTrackingTransparency, please indicate this information in the Review Notes section for each version of your app in App Store Connect when submitting for review."}),"\n"]}),"\n",(0,i.jsxs)(o.h3,{id:"how-to-fix-error-origin-null-is-not-allowed-by-access-control-allow-origin",children:["How to fix error ",(0,i.jsx)(o.code,{children:"Origin null is not allowed by Access-Control-Allow-Origin"}),"?"]}),"\n",(0,i.jsxs)(o.p,{children:["Add the following to ",(0,i.jsx)(o.code,{children:"config.xml"}),","]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-xml",children:'<preference name="scheme" value="app" />\n<preference name="hostname" value="localhost" />\n'})}),"\n",(0,i.jsxs)(o.p,{children:["Or try ",(0,i.jsx)(o.a,{href:"https://www.npmjs.com/package/cordova-plugin-wkwebview-file-xhr",children:(0,i.jsx)(o.code,{children:"cordova-plugin-wkwebview-file-xhr"})}),"."]}),"\n",(0,i.jsxs)(o.p,{children:["See ",(0,i.jsx)(o.a,{href:"https://github.com/apache/cordova-android/issues/1354#issuecomment-921752541",children:"cordova-android#1354"}),"."]})]})}function h(e={}){const{wrapper:o}={...(0,s.a)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},4550:(e,o,n)=>{n.d(o,{Z:()=>t,a:()=>d});var i=n(79);const s={},r=i.createContext(s);function d(e){const o=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function t(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(r.Provider,{value:o},e.children)}}}]);